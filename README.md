# AB_Driver
A simple python tool to find regressions in different versions of the graphics driver. 

Author: Sirisha Gandikota <sirisha.gandikota@intel.com>

This simple python tool is intended to be part of Continuous Integration system
so we can find regressions in our graphics driver. 

DEPENDENCIES:
==============
1) Python 2.7  or above
2) APITrace: https://github.com/apitrace/apitrace installed in your path
3) Python Image Library (python-pil) installed
4) Numpy (python-numpy) installed


HOW IT WORKS:
==============
This tool works by providing support for 2 methods 1) generate, 2) verify
generate() is expected to be run on the version A of the driver
verify() is expected to be run on the version B of the driver

1) generate(): This method takes the trace file generated by apitrace tool and 
extracts the image from the specified frame. It then packages the tracefile along
with the image extracted and the text file into which the frame number is written.

2) verify(): This method takes the archive file generated above and extracts the 
contents into a temporary folder. There upon, it extracts the image from the trace 
file and compares the newly extracted image with the one that was part of the archive.
The Root Mean Square Error is calculated and based on the threshold passed as an
argument, the result(PASS/FAIL) is calculated.


USAGE: 
=======
python imagecompare.py generate  -i <tracefile> -f <f no> -a <output.tar.gz> 
python imagecompare.py verify  -a <output.tar.gz> -t
